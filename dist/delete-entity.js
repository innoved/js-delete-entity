!function(n){var o={};function a(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist",a(a.s=0)}([function(e,t){!function(m){"use strict";var o=function(e,t){m(e);var a=this,i="innovedDeleteEntity",s="js-delete-",l=m.extend({onDeleteSuccess:function(){},onDeleteFail:function(){},onPreConfirm:function(){},onConfirm:function(){},onClickForce:function(){}},t||{}),c=function(e){var t=null==e?"item":e.name;innovedFlashMessage.create("error","Something went wrong","The "+t+" could not be deleted"),console.log("Something went wrong","The "+t+" could not be deleted")},d=function(e,t,n,o,a){l.onDeleteSuccess.call(this),n.addClass(s+"box-deleted"),t.removeClass(s+"btn-selected"),setTimeout(function(){n.removeClass(s+"box-loading").removeClass(s+"box-deleted")},1e3),0!=a&&null!=a&&setTimeout(function(){!function(e,t){if(void 0===t||""==t)return e.remove();switch(t){case!1:case null:return;case"slideRight":e.css("-moz-transition","none"),e.css("-webkit-transition","none"),e.css("-o-transition","color 0 ease-in"),e.css("transition","none"),TweenMax.to(e,.6,{x:"100%",ease:Power3.easeOut,onComplete:function(){e.remove()}});break;case"fadeOut":e.addClass("fade-out"),setTimeout(function(){e.remove()},250);break;default:t()}}(e.$element,a)},500),innovedFlashMessage.create("success","The "+e.name+" has been deleted")},r=function(t,n,o,a){var r=this,e={_token:m('meta[name="_token"]').attr("content")};m.ajax({url:n[0].href,type:"DELETE",data:e,dataType:"json"}).done(function(e){if(0!=e.success){if(1==e.reload)return location.reload(),!1;d(t,n,o,t.$element,a)}else l.onDeleteFail.call(r),c(t),console.log(e)}).fail(function(e,t,n){l.onDeleteFail.call(r),m.error("Request Failed on "+i+" "+t),console.log(n)}).always(function(e){n.removeClass(s+"btn-selected"),setTimeout(function(){o.removeClass(s+"box-loading").removeClass(s+"box-deleted")},1e3)})},u=function(e){return e.hasClass(s+"btn")||e.addClass(s+"btn"),e.find("."+s+"box").length||e.append('<span class="'+s+'box"><p>Are you sure you want to delete?</p><span class="'+s+'cancel">Cancel</span><span class="'+s+'confirm">Yes</span></span>'),e.find("."+s+"box")},f=function(e){var t={guid:e.currentTarget.dataset.targetGuid,$element:m('[data-guid="'+e.currentTarget.dataset.targetGuid+'"]'),name:e.currentTarget.dataset.targetName||"item"};return 0<!t.$element.length?(c(t),console.log(i+" The target element does not exist in the DOM"),!1):t};this.confirm=function(e){if(l.onPreConfirm.call(a),void 0===e.event)return c(),console.log(i+": No event or guid was passed into the deletion method."),!1;if(void 0===e.event.currentTarget.dataset.targetGuid)return c(),console.log(i+": No event or guid was passed into the deletion method."),!1;var t=f(e.event),n=m(e.event.currentTarget);e.event.stopPropagation();var o=u(n);return!n.hasClass(s+"btn-selected")&&(n.addClass(s+"btn-selected"),n.find("."+s+"cancel").off("click").on("click",function(){return n.removeClass(s+"btn-selected"),!1}),n.parents(".dropdown").length&&n.parents(".dropdown").off().on("hidden.bs.dropdown",function(){return n.removeClass(s+"btn-selected"),!1}),o.offset().left+o.outerWidth()>m(window).width()&&o.addClass(s+"box-hit-edge"),n.find("."+s+"confirm").off("click").on("click",function(){return l.onConfirm.call(a),o.addClass(s+"box-loading"),"persist-to-db"==event.currentTarget.dataset.deleteMethod?persistToDb(n,[],[],innovedDeleteEntity.deleteSuccess(t,n,o,t.$element)):r(t,n,o,e.animation),!1}),this)},this.force=function(e){e.onClickForce.call(a);var t=f(event),n=m(event.currentTarget);e.event.stopPropagation();var o=u(n);return!n.hasClass(s+"btn-selected")&&(o.addClass(s+"-box-loading"),setTimeout(function(){n.addClass(s+"-btn-selected")},50),r(t,n,o,e.animation),this)}};m.innovedDeleteEntity=function(e){var t=m(this);if(t.data("innovedDeleteEntity"))return t.data("innovedDeleteEntity");var n=new o(this,e);return t.data("innovedDeleteEntity",n),t.off("click").on("click",function(e){e.preventDefault();var t=m(this);if("modal"==t.data("delete"))n.confirm({event:e,confirmType:"modal"});else if("confirm"==t.data("delete"))n.confirm({event:e,animation:"slideRight"});else{if("force"!=t.data("delete"))return!1;n.force({event:e,animation:"slideRight"})}return!1}),n}}(jQuery)}]);